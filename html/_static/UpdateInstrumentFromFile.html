

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Additional Detector Parameters Using ASCII File &mdash; DocTest 1 documentation</title>
    
    <link rel="stylesheet" href="default.css" type="text/css" />
    <link rel="stylesheet" href="pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="underscore.js"></script>
    <script type="text/javascript" src="doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="DocTest 1 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">DocTest 1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <p>Some instrument definition file (<a class="reference external" href="InstrumentDefinitionFile">IDF</a>)
positions are only approximately correct and the true positions are
located within data files. This algorithm reads the detector positioning
from the supplied file and updates the instrument accordingly. It
currently supports ISIS Raw, ISIS NeXus files and ASCII files.</p>
<p>It is assumed that the positions specified in the file are all with
respect to the a coordinate system defined with its origin at the sample
position. Note that this algorithm moves the detectors without
subsequent rotation, hence this means that detectors may not for example
face the sample perfectly after this algorithm has been applied.</p>
<div class="section" id="additional-detector-parameters-using-ascii-file">
<h1>Additional Detector Parameters Using ASCII File<a class="headerlink" href="#additional-detector-parameters-using-ascii-file" title="Permalink to this headline">Â¶</a></h1>
<p>The ASCII format allows a multi-column text file to provide new
positions along with additional parameters for each detector. If a text
file is used then the <tt class="docutils literal"><span class="pre">AsciiHeader</span></tt> parameter is required as it
identifies each column in the file as header information in the file is
always ignored. There is a minor restriction in that the first column is
expected to specify either a detector ID or a spectrum number and will
never be interpreted as anything else.</p>
<p>The keywords recognised by the algorithm to pick out detector position
values &amp; spectrum/ID values are: spectrum, ID, R,theta, phi. The
spectrum/ID keywords can only be used in the first column. A dash (-) is
used to ignore a column.</p>
<p>As an example the following header:</p>
<div class="highlight-python"><pre>spectrum,theta,t0,-,R</pre>
</div>
<p>and the following text file:</p>
<div class="highlight-python"><pre>1   0.0000  -4.2508  11.0550  -2.4594
2   0.0000   0.0000  11.0550   2.3800
3 130.4653  -0.4157  11.0050   0.6708
4 131.9319  -0.5338  11.0050   0.6545
5 133.0559  -0.3362  11.0050   0.6345</pre>
</div>
<p>would tell the algorithm to interpret the columns as:</p>
<ol class="arabic simple">
<li>Spectrum number</li>
<li>Theta position value</li>
<li>A new instrument parameter called t0</li>
<li>This column would be ignored</li>
<li>R position value</li>
</ol>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/_static/UpdateInstrumentFromFile.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">DocTest 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, James.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>