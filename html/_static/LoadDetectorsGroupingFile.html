

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>XML File Format &mdash; DocTest 1 documentation</title>
    
    <link rel="stylesheet" href="default.css" type="text/css" />
    <link rel="stylesheet" href="pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="underscore.js"></script>
    <script type="text/javascript" src="doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="DocTest 1 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">DocTest 1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <p>This algorithm is used to generate a GroupingWorkspace from an XML or
Map file containing detectors&#8217; grouping information.</p>
<div class="section" id="xml-file-format">
<h1>XML File Format<a class="headerlink" href="#xml-file-format" title="Permalink to this headline">¶</a></h1>
<p>Extension: .xml</p>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>&#8220;instrument&#8221;: optional attribute of node &#8216;detector-grouping&#8217;. It must
be valid instrument name. If &#8220;instrument&#8221; is not defined, only tag
&#8220;ids&#8221; can be used in this XML file.</li>
<li>&#8220;ID&#8221;: optional attribute of node &#8216;group&#8217;. It must be an integer, and
the key to denote group. If &#8220;ID&#8221; is not given, algorithm will use
default group ID for each group in the same order as in XML file. The
automatic group ID starts from 1.</li>
<li>&#8220;detids&#8221;: a node to define grouping by detectors&#8217; ID. Its value must
be a list of integers separated by &#8216;,&#8217;. A &#8216;-&#8216; is used between 2
integers to define a range of detectors.</li>
<li>&#8220;component&#8221;: a node to define that all detectors belonged to a
component in the instrument are to be in a same group. Its value
should be a valid component name.</li>
<li>&#8220;ids&#8221;: a node to define that all detectors of the spectrum whose ID
&#8216;s defined by &#8220;ids&#8221; will be grouped together.</li>
</ul>
<p>Example 1:</p>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">3,34-44,47</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">bank21</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">bank26</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;</span></tt></div>
</div>
<p>Example 2:</p>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">3,34-44,47</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">bank21</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">bank26</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;</span></tt></div>
</div>
<p>Example 3:</p>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">3,34-44,47</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">26</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;&nbsp;</span></tt><tt class="docutils literal"><span class="pre">27,28</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;</span></tt></div>
</div>
</div>
</div>
<div class="section" id="map-file-format">
<h1>Map File Format<a class="headerlink" href="#map-file-format" title="Permalink to this headline">¶</a></h1>
<p>Extension: .map</p>
<p>The file must have the following format* (extra space and comments
starting with # are allowed) :</p>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&quot;unused&nbsp;number1&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&quot;unused&nbsp;number2&quot;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&quot;number_of_input_spectra1&quot;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&quot;input&nbsp;spec1&quot;&nbsp;&quot;input&nbsp;spec2&quot;&nbsp;&quot;input&nbsp;spec3&quot;&nbsp;&quot;input&nbsp;spec4&quot;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&quot;input&nbsp;spec5&nbsp;input&nbsp;spec6&quot;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;**&nbsp;&nbsp;&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&quot;unused&nbsp;number2&quot;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&quot;number_of_input_spectra2&quot;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&quot;input&nbsp;spec1&quot;&nbsp;&quot;input&nbsp;spec2&quot;&nbsp;&quot;input&nbsp;spec3&quot;&nbsp;&quot;input&nbsp;spec4&quot;</span></tt></div>
</div>
<p>* each phrase in &#8220;&#8221; is replaced by a single integer</p>
<p>** the section of the file that follows is repeated once for each
group</p>
<p>Some programs require that &#8220;unused number1&#8221; is the number of groups
specified in the file but Mantid ignores that number and all groups
contained in the file are read regardless. &#8220;unused number2&#8221; is in other
implementations the group&#8217;s spectrum number but in this algorithm it is
is ignored and can be any integer (not necessarily the same integer)</p>
<p>An example of an input file follows:</p>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;3&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;1&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;64&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7&nbsp;8&nbsp;9&nbsp;10&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;11&nbsp;12&nbsp;13&nbsp;14&nbsp;15&nbsp;16&nbsp;17&nbsp;18&nbsp;19&nbsp;20&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;30&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;40&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;46&nbsp;47&nbsp;48&nbsp;49&nbsp;50&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;51&nbsp;52&nbsp;53&nbsp;54&nbsp;55&nbsp;56&nbsp;57&nbsp;58&nbsp;59&nbsp;60&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;61&nbsp;62&nbsp;63&nbsp;64&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;2&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;60</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;65&nbsp;66&nbsp;67&nbsp;68&nbsp;69&nbsp;70&nbsp;71&nbsp;72&nbsp;73&nbsp;74&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;75&nbsp;76&nbsp;77&nbsp;78&nbsp;79&nbsp;80&nbsp;81&nbsp;82&nbsp;83&nbsp;84&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;85&nbsp;86&nbsp;87&nbsp;88&nbsp;89&nbsp;90&nbsp;91&nbsp;92&nbsp;93&nbsp;94&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;95&nbsp;96&nbsp;97&nbsp;98&nbsp;99&nbsp;100&nbsp;101&nbsp;102&nbsp;103&nbsp;104&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;105&nbsp;106&nbsp;107&nbsp;108&nbsp;109&nbsp;110&nbsp;111&nbsp;112&nbsp;113&nbsp;114&nbsp;&nbsp;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;115&nbsp;116&nbsp;117&nbsp;118&nbsp;119&nbsp;120&nbsp;121&nbsp;122&nbsp;123&nbsp;124</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;3</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;60</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;125&nbsp;126&nbsp;127&nbsp;-&nbsp;180&nbsp;181&nbsp;182&nbsp;183&nbsp;184</span></tt></div>
</div>
<p>==</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">XML File Format</a><ul>
<li><a class="reference internal" href="#parameters">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#map-file-format">Map File Format</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/_static/LoadDetectorsGroupingFile.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">DocTest 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, James.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>